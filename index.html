<!DOCTYPE html>
<html lang="bs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prijava za Centrotours B2B Workshop 2025</title>
  <link rel="icon" href="favicon.ico" />
  <meta name="theme-color" content="#0066cc" />
  <style>
    :root{
      --ct-primary:#0066cc;
      --ct-primary-700:#0356aa;
      --ct-accent:#00c2ff;
      --ct-danger:#e03131;
      --ct-bg:#0b1220;
      --ct-card:#0f1a2f; /* glass */
      --ct-card-2:#131f36; /* glass alt */
      --ct-text:#eaf1ff;
      --ct-muted:#9db4d1;
      --ct-ok:#2fbf71;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --border:1px solid rgba(255,255,255,.12);
    }
    /* Global layout */
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,Helvetica,sans-serif;
      color:var(--ct-text);
      background: radial-gradient(1200px 700px at 10% -10%, #10274d 0%, transparent 70%),
                  radial-gradient(1100px 700px at 110% 10%, #08213f 0%, transparent 70%),
                  linear-gradient(180deg, #020617 0%, #0b1220 100%);
      background-attachment: fixed;
      overflow-x:hidden;
    }
    .hero{
      position:fixed; inset:0; z-index:-1; opacity:.35;
      background-position:center; background-size:cover; transition: background-image .7s ease, opacity .6s ease;
      filter: saturate(105%) contrast(105%);
    }
    .grain{position:fixed; inset:-200%; pointer-events:none; opacity:.06; background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="4"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".7"/></svg>'); animation: grain 20s steps(20) infinite}
    @keyframes grain{0%{transform:translate(0,0)}25%{transform:translate(-10%,-8%)}50%{transform:translate(8%,-12%)}75%{transform:translate(-6%,6%)}100%{transform:translate(0,0)}}

    header.site{
      position:sticky; top:0; backdrop-filter:saturate(150%) blur(10px);
      background:linear-gradient(180deg, rgba(3,9,20,.85), rgba(3,9,20,.55));
      border-bottom:var(--border); z-index:20;
    }
    .wrap{max-width:1100px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; gap:18px}
    .logo{height:38px; filter: drop-shadow(0 6px 12px rgba(0,0,0,.35));}
    .brand{font-weight:800; letter-spacing:.2px;}

    .page{max-width:1100px; margin:32px auto; padding:0 16px 80px}

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
      overflow:hidden; position:relative;
    }
    .card::before{content:""; position:absolute; inset:-2px; border-radius:calc(var(--radius) + 2px);
      background: linear-gradient(120deg, rgba(0,194,255,.5), transparent 20% , rgba(0,102,204,.3) 50%, transparent 80%);
      filter:blur(14px); opacity:.25; z-index:-1}

    .hero-bar{
      display:grid; grid-template-columns:1fr auto; gap:14px; align-items:center; padding:22px 22px 14px;
      border-bottom:var(--border);
      background: linear-gradient(180deg, rgba(7,17,33,.6), rgba(7,17,33,.3));
    }
    .hero-title{font-size:clamp(20px,3vw,30px); font-weight:800; line-height:1.2}
    .meta{color:var(--ct-muted); font-size:14px}

    .progress{--h:8px; position:relative; height:var(--h); background:#0a1426; border:var(--border); margin:16px 22px; border-radius:999px; overflow:hidden}
    .progress>span{position:absolute; inset:0; width:0; background:linear-gradient(90deg, var(--ct-accent), var(--ct-primary)); transition:width .5s ease}

    form{padding:18px 22px 26px}
    .step{display:none; animation:fadeIn .5s ease}
    .step.active{display:block}
    @keyframes fadeIn{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none}}

    .grid{display:grid; gap:14px}
    .g-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .g-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:860px){.g-2,.g-3{grid-template-columns:1fr}}

    .field{position:relative}
    .field input,.field select,.field textarea{
      width:100%; background:#0a1426; color:var(--ct-text); border:1px solid rgba(255,255,255,.12);
      padding:14px 12px; border-radius:12px; outline:none; transition:border .2s, box-shadow .2s;
    }
    .field textarea{min-height:110px; resize:vertical}
    .field input:focus,.field select:focus,.field textarea:focus{border-color:var(--ct-accent); box-shadow:0 0 0 4px rgba(0,194,255,.12)}
    .field label{position:absolute; left:12px; top:11px; font-size:13px; color:var(--ct-muted); pointer-events:none; transition:all .18s ease; background:transparent; padding:0 6px}
    .field input:focus+label,.field input:not(:placeholder-shown)+label,
    .field textarea:focus+label,.field textarea:not(:placeholder-shown)+label,
    .field select:focus+label{transform:translateY(-12px) scale(.92); color:var(--ct-accent); background:#0a1426}

    .group{border:1px dashed rgba(255,255,255,.16); padding:14px; border-radius:12px; background:rgba(255,255,255,.02)}
    .group legend{font-weight:700; color:#cfe4ff}
    .checks{display:grid; gap:8px; grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:700px){.checks{grid-template-columns:1fr}}

    .controls{display:flex; justify-content:space-between; gap:12px; padding:8px 22px 22px}
    .btn{appearance:none; border:none; border-radius:12px; padding:12px 18px; cursor:pointer; font-weight:700; letter-spacing:.2px}
    .btn.primary{color:#061020; background:linear-gradient(90deg,var(--ct-accent),var(--ct-primary));}
    .btn.ghost{background:transparent; color:var(--ct-text); border:1px solid rgba(255,255,255,.25)}
    .btn[disabled]{opacity:.55; cursor:not-allowed}
    .btn:active{transform:translateY(1px)}

    .toast{position:fixed; right:16px; bottom:16px; background:#091229; color:var(--ct-text); border:var(--border); padding:12px 14px; border-radius:12px; box-shadow:var(--shadow); opacity:0; transform:translateY(8px); pointer-events:none; transition:all .3s}
    .toast.show{opacity:1; transform:none}

    .success{display:none; text-align:center; padding:38px}
    .success.show{display:block; animation:pop .5s ease}
    @keyframes pop{from{opacity:0; transform:scale(.98)} to{opacity:1; transform:scale(1)}}

    .badge{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:rgba(0,194,255,.15); color:#dff6ff; font-size:13px;}
    .kicker{display:flex; gap:8px; flex-wrap:wrap}

    .watermark{position:fixed; left:50%; bottom:12px; transform:translateX(-50%); opacity:.25; font-size:12px}

    .fade-slide-in{animation:fadeSlide .6s cubic-bezier(.2,.7,.2,1)}
    @keyframes fadeSlide{from{opacity:0; transform:translateY(12px)} to{opacity:1; transform:translateY(0)}}
  </style>
</head>
<body>
  <!-- rotating hero background (set in JS per step) -->
  <div class="hero" id="hero"></div>
  <div class="grain"></div>

  <header class="site">
    <div class="wrap">
      <img class="logo" src="logo.png" alt="Centrotours" />
      <div class="brand">Centrotours ‚Ä¢ B2B Workshop 2025</div>
      <div style="margin-left:auto" class="kicker">
        <span class="badge">üìç Swissotel Sarajevo ‚Ä¢ 14. nov 2025</span>
        <span class="badge">üïí Prijave do 6. nov 2025</span>
      </div>
    </div>
  </header>

  <main class="page">
    <section class="card">
      <div class="hero-bar">
        <div>
          <div class="hero-title">Prijava za Centrotours Summer T√ºrkiye Workshop 2026</div>
          <div class="meta">Najveƒái turistiƒçki B2B event u BiH ‚Äì 100+ agencija ‚Ä¢ 30+ turskih hotela</div>
        </div>
        <div class="badge">Turizam nas spaja üíô</div>
      </div>
      <div class="progress"><span id="bar"></span></div>

      <form id="form" onsubmit="submitData(event)">
        <!-- Step 1: Uvod -->
        <div class="step active" data-step="1">
          <div class="grid">
            <div class="group fade-slide-in">
              <legend>Dobrodo≈°li</legend>
              <p style="margin:8px 0 0; color:var(--ct-muted)">Ispunite podatke ‚Äì nakon zaprimanja, na≈° tim ƒáe vas kontaktirati radi potvrde termina sastanaka sa hotelima.</p>
            </div>
          </div>
        </div>

        <!-- Step 2: Osnovni podaci o agenciji -->
        <div class="step" data-step="2">
          <div class="grid g-2">
            <div class="field"><input required name="nazivAgencije" placeholder=" "/><label>Naziv agencije *</label></div>
            <div class="field"><input required name="grad" placeholder=" "/><label>Grad / sjedi≈°te *</label></div>
            <div class="field"><input name="web" placeholder=" "/><label>Web stranica</label></div>
            <div class="field"><input required type="number" min="1" name="brojZaposlenih" placeholder=" "/><label>Broj zaposlenih *</label></div>
            <div class="field"><input required type="number" min="1900" max="2100" name="godinaOsnivanja" placeholder=" "/><label>Godina osnivanja *</label></div>
          </div>
        </div>

        <!-- Step 3: Kontakt osoba -->
        <div class="step" data-step="3">
          <div class="grid g-2">
            <div class="field"><input required name="imePrezime" placeholder=" "/><label>Ime i prezime *</label></div>
            <div class="field"><input required name="pozicija" placeholder=" "/><label>Pozicija u agenciji *</label></div>
            <div class="field"><input required type="email" name="email" placeholder=" "/><label>E-mail *</label></div>
            <div class="field"><input required name="telefon" placeholder=" "/><label>Telefon / mobitel *</label></div>
          </div>
        </div>

        <!-- Step 4: Poslovni profil -->
        <div class="step" data-step="4">
          <fieldset class="group">
            <legend>Glavna tr≈æi≈°ta *</legend>
            <div class="checks">
              <label><input type="checkbox" name="trzista" value="Bosna i Hercegovina"> Bosna i Hercegovina</label>
              <label><input type="checkbox" name="trzista" value="Hrvatska / Srbija / Crna Gora"> Hrvatska / Srbija / Crna Gora</label>
              <label><input type="checkbox" name="trzista" value="Zapadna Evropa"> Zapadna Evropa</label>
              <label><input type="checkbox" name="trzista" value="Bliski Istok"> Bliski Istok</label>
              <label><input type="checkbox" name="trzista" value="Ostalo"> Ostalo</label>
            </div>
          </fieldset>

          <fieldset class="group" style="margin-top:12px">
            <legend>Prosjeƒçan broj prodatih aran≈æmana godi≈°nje *</legend>
            <div class="checks">
              <label><input type="radio" required name="brojAranzmana" value="do 200"> do 200</label>
              <label><input type="radio" name="brojAranzmana" value="200‚Äì500"> 200‚Äì500</label>
              <label><input type="radio" name="brojAranzmana" value="500‚Äì1000"> 500‚Äì1000</label>
              <label><input type="radio" name="brojAranzmana" value="preko 1000"> preko 1000</label>
            </div>
          </fieldset>

          <fieldset class="group" style="margin-top:12px">
            <legend>Najƒçe≈°ƒáe destinacije *</legend>
            <div class="checks">
              <label><input type="checkbox" name="destinacije" value="Turska"> Turska</label>
              <label><input type="checkbox" name="destinacije" value="Egipat"> Egipat</label>
              <label><input type="checkbox" name="destinacije" value="Tunis"> Tunis</label>
              <label><input type="checkbox" name="destinacije" value="Grƒçka"> Grƒçka</label>
              <label><input type="checkbox" name="destinacije" value="Italija"> Italija</label>
              <label><input type="checkbox" name="destinacije" value="Ostalo"> Ostalo</label>
            </div>
          </fieldset>
        </div>

        <!-- Step 5: Interes za sastanke -->
        <div class="step" data-step="5">
          <fieldset class="group">
            <legend>Interes za sastanke (B2B dio) *</legend>
            <p class="meta" style="margin-top:0">Odaberite tipove hotela s kojima ≈æelite termin.</p>
            <div class="checks">
              <label><input type="checkbox" name="sastanak" value="Porodiƒçni hoteli"> Porodiƒçni hoteli</label>
              <label><input type="checkbox" name="sastanak" value="Adults Only hoteli"> Adults Only hoteli</label>
              <label><input type="checkbox" name="sastanak" value="Luksuzni resorti"> Luksuzni resorti</label>
              <label><input type="checkbox" name="sastanak" value="Hoteli sa velikim kapacitetima"> Veliki kapaciteti</label>
              <label><input type="checkbox" name="sastanak" value="Hoteli sa sportskim sadr≈æajima"> Sportski sadr≈æaji</label>
            </div>
          </fieldset>
          <div class="grid g-2" style="margin-top:12px">
            <div class="field"><input required type="number" min="1" name="brojOsoba" placeholder=" "/><label>Broj osoba iz va≈°e agencije *</label></div>
            <div class="group">
              <legend>Engleski jezik *</legend>
              <div class="checks">
                <label><input type="radio" required name="engleski" value="Da"> Da</label>
                <label><input type="radio" name="engleski" value="Ne"> Ne</label>
              </div>
            </div>
            <div class="field" style="grid-column:1/-1"><textarea name="napomene" placeholder=" "></textarea><label>Dodatne napomene / posebni zahtjevi</label></div>
          </div>
        </div>

        <!-- Step 6: Logistika -->
        <div class="step" data-step="6">
          <div class="grid g-2">
            <div class="group">
              <legend>Networking Dinner *</legend>
              <div class="checks">
                <label><input type="radio" required name="vecera" value="Da"> Da</label>
                <label><input type="radio" name="vecera" value="Ne"> Ne</label>
              </div>
            </div>
            <div class="group">
              <legend>Smje≈°taj potreban? *</legend>
              <div class="checks">
                <label><input type="radio" required name="smjestaj" value="Da"> Da</label>
                <label><input type="radio" name="smjestaj" value="Ne"> Ne</label>
              </div>
            </div>
            <div class="field" style="grid-column:1/-1"><textarea name="parking" placeholder=" "></textarea><label>Napomena za parking / dolazak</label></div>
          </div>
        </div>

        <!-- Step 7: Saglasnost -->
        <div class="step" data-step="7">
          <div class="group">
            <p class="meta">‚úÖ Saglasan/na sam da Centrotours koristi navedene podatke u svrhu organizacije B2B radionice i daljnje poslovne komunikacije.</p>
            <label style="display:flex; align-items:center; gap:10px"><input type="checkbox" required name="saglasnost" value="DA"> Prihvatam</label>
          </div>
          <div class="grid g-2" style="margin-top:12px">
            <div class="field"><input required name="potpis" placeholder=" "/><label>Potpis (ime i prezime) *</label></div>
            <!-- Honey pot (skriveno) -->
            <div class="field" style="display:none"><input name="company" placeholder=" "/><label>Do not fill</label></div>
          </div>
        </div>

        <div class="controls">
          <button type="button" class="btn ghost" id="prev">‚üµ Nazad</button>
          <button type="submit" class="btn primary" id="next">Dalje ‚ü∂</button>
        </div>
      </form>

      <div class="success" id="success">
        <h2 style="margin-top:0">üéâ Hvala vam na prijavi!</h2>
        <p class="meta">Va≈°a agencija je uspje≈°no registrovana. Uskoro ƒáemo vas kontaktirati radi potvrde sastanaka.</p>
        <p class="meta">Vidimo se u Sarajevu! ‚Äî Centrotours Team üíô</p>
      </div>
    </section>

    <p class="watermark">¬© Centrotours ‚Ä¢ B2B Workshop 2025</p>
  </main>

  <div class="toast" id="toast">Gre≈°ka pri slanju. Provjerite vezu i poku≈°ajte ponovo.</div>

  <script>
  // === KONFIGURACIJA ===
  const scriptURL = 'https://script.google.com/macros/s/AKfycbxf_XqH8M_q5k0nWM4_bfBTnR_0lOJdIozmlcGlErGEffhNElOtYbjjny8W7tdRaqI/exec';

  const bgByStep = {
    1: 'destinacija-1.jpg',
    2: 'destinacija-2.jpg',
    3: 'destinacija-3.jpg',
    4: 'hurgada.jpg',
    5: 'destinacija-6.jpg',
    6: 'destinacija-2.jpg',
    7: 'destinacija-3.jpg'
  };

  // === UI ===
  const form = document.getElementById('form');
  const steps = Array.from(document.querySelectorAll('.step'));
  const hero = document.getElementById('hero');
  const bar = document.getElementById('bar');
  const nextBtn = document.getElementById('next');
  const prevBtn = document.getElementById('prev');
  const toast = document.getElementById('toast');
  const success = document.getElementById('success');

  let current = 0; // index

  function setHero(stepIndex){
    const n = stepIndex + 1;
    hero.style.backgroundImage =
      `linear-gradient(rgba(2,6,23,.35),rgba(2,6,23,.55)), url('${bgByStep[n] || bgByStep[1]}')`;
  }

  function show(i){
    steps.forEach((el, idx) => el.classList.toggle('active', idx === i));
    bar.style.width = (((i+1)/steps.length)*100) + '%';
    prevBtn.disabled = (i === 0);
    nextBtn.textContent = (i === steps.length - 1) ? 'Po≈°alji' : 'Dalje ‚ü∂';
    setHero(i);
    window.scrollTo({top: 0, behavior: 'smooth'});
  }

  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 3200);
  }

  function validateStep(){
    const active = steps[current];
    const inputs = active.querySelectorAll('input,select,textarea');
    for (const el of inputs) {
      if (el.type === 'checkbox' || el.type === 'radio') continue;
      if (!el.checkValidity()) { el.reportValidity(); return false; }
    }
    // grupne provjere
    if (active.querySelector('legend')?.textContent?.includes('Glavna tr≈æi≈°ta')){
      if (active.querySelectorAll('input[name="trzista"]:checked').length === 0){
        showToast('Odaberite barem jedno tr≈æi≈°te.'); return false;
      }
    }
    if (active.querySelector('legend')?.textContent?.includes('Najƒçe≈°ƒáe destinacije')){
      if (active.querySelectorAll('input[name="destinacije"]:checked').length === 0){
        showToast('Odaberite barem jednu destinaciju.'); return false;
      }
    }
    if (active.querySelector('legend')?.textContent?.includes('Interes za sastanke')){
      if (active.querySelectorAll('input[name="sastanak"]:checked').length === 0){
        showToast('Odaberite barem jedan tip hotela.'); return false;
      }
    }
    return true;
  }

  // ‚ñ∫ ‚ÄúNazad‚Äù
  prevBtn.addEventListener('click', () => {
    if (current > 0) { current--; show(current); }
  });

  // ‚ñ∫ ‚ÄúDalje / Po≈°alji‚Äù ‚Äî vi≈°e nije submit nego ruƒçni kontroler
  nextBtn.type = 'button';
  nextBtn.addEventListener('click', async () => {
    // ako nismo na zadnjem koraku: validiraj i idi dalje
    if (current < steps.length - 1) {
      if (!validateStep()) return;
      current++; show(current);
      return;
    }
    // zadnji korak = slanje
    await submitData();
  });

  // Fallback: blokiraj prirodni submit forme (da ni≈°ta ne prekine navigaciju)
  form.addEventListener('submit', (e) => e.preventDefault());

  async function submitData(){
    // honeypot
    const bot = form.querySelector('[name="company"]')?.value?.trim();
    if (bot) { showToast('Gre≈°ka.'); return; }

    nextBtn.disabled = true; nextBtn.textContent = 'Slanje‚Ä¶';
    try {
      const fd = new FormData(form);
      const res = await fetch(scriptURL, { method: 'POST', body: fd });
      try {
        const j = await res.json();
        if (j && j.ok === false) throw new Error(j.error || 'Gre≈°ka servera');
      } catch(_) { /* non-JSON ok */ }
      form.style.display = 'none';
      success.classList.add('show');
      confetti();
    } catch (err) {
      console.error(err);
      showToast('Nije poslano: ' + (err.message || err));
    } finally {
      nextBtn.disabled = false; nextBtn.textContent = 'Po≈°alji';
    }
  }

  // mini konfeti
  function confetti(){
    const c = document.createElement('canvas');
    c.width = innerWidth; c.height = innerHeight;
    c.style.cssText='position:fixed;inset:0;pointer-events:none;z-index:9999';
    document.body.appendChild(c);
    const ctx = c.getContext('2d');
    const parts = Array.from({length:140}).map(()=>({
      x: Math.random()*c.width, y: -20-Math.random()*200, r: 4+Math.random()*6, s: 1+Math.random()*2,
      col:`hsl(${Math.random()*360},90%,60%)`, a:Math.random()*Math.PI
    }));
    let t=0; (function tick(){ t++; ctx.clearRect(0,0,c.width,c.height);
      parts.forEach(p=>{ p.y+=p.s*2; p.x+=Math.sin((t+p.a)/20)*1.2;
        ctx.fillStyle=p.col; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); });
      if(t<300) requestAnimationFrame(tick); else c.remove();
    })();
  }

  // init
  show(current);
</script>
